(this["webpackJsonpfinal-exam"]=this["webpackJsonpfinal-exam"]||[]).push([[0],{19:function(e,t,a){e.exports=a(37)},24:function(e,t,a){},25:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},26:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(16),l=a.n(r),o=(a(24),a(6)),s=a(7),c=a(4),d=a(9),u=a(8),m=(a(25),a(26),a(17)),h=a(18).initializeApp({apiKey:"AIzaSyCW2pzc5fJUfriKMzYOBx0URkZctU2UIpQ",authDomain:"finalexam-faa56.firebaseapp.com",databaseURL:"https://finalexam-faa56.firebaseio.com",projectId:"finalexam-faa56",storageBucket:"finalexam-faa56.appspot.com",messagingSenderId:"692250976593",appId:"1:692250976593:web:f9fbfb023461b1c7113370"}),b=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInput=function(e){var t=e.target,a=t.name,i=t.value;n.setState(Object(m.a)({},a,i))},n.handleSubmit=function(e){e.preventDefault(),n.props.operation(n.state),n.setState({fieldOne:"",fieldTwo:"",fieldThree:"",fieldFour:"",editingId:""})},n.state={editingId:"",fieldOne:"",fieldTwo:"",fieldThree:"",fieldFour:""},n.handleInput=n.handleInput.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.repopulate=n.repopulate.bind(Object(c.a)(n)),n.clearF=n.clearF.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){if(""==this.props.beingEdited)console.log(this.props.beingEdited),console.log("esto esta entrando");else{if(this.props.beingEdited==e.beingEdited)return;this.setState({editingId:this.props.beingEdited}),this.repopulate()}}},{key:"clearF",value:function(){this.setState({fieldOne:"",fieldTwo:"",fieldThree:"",fieldFour:"",editingId:""})}},{key:"repopulate",value:function(){console.log("ESTO ES "+this.props.beingEdited),this.setState({fieldOne:this.props.registers[this.props.beingEdited].fieldOne,fieldTwo:this.props.registers[this.props.beingEdited].fieldTwo,fieldThree:this.props.registers[this.props.beingEdited].fieldThree,fieldFour:this.props.registers[this.props.beingEdited].fieldFour})}},{key:"onDelete",value:function(e){var t=this;""==this.state.editingId?window.confirm("No esta editando ningun registro, por lo que no puede eliminar"):window.confirm("Esta seguro que desea ELIMINAR este registro?")&&h.database().ref().child("registers/".concat(e)).remove((function(e){e?console.log(e):t.setState({editingId:""})}))}},{key:"render",value:function(){}}]),a}(i.a.Component),p=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).operation=function(e){""==n.state.beingEdited?h.database().ref().child("registers").push(e,(function(e){e?console.log(e):n.setState({beingEdited:""})})):h.database().ref().child("registers/".concat(n.state.beingEdited)).set(e,(function(e){e?console.log(e):n.setState({beingEdited:""})}))},n.state={registers:{},beingEdited:""},n.operation=n.operation.bind(Object(c.a)(n)),n.editId=n.editId.bind(Object(c.a)(n)),n.onDelete=n.onDelete.bind(Object(c.a)(n)),n.logOut=n.logOut.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.database().ref().child("registers").on("value",(function(t){null!=t.val()?e.setState({registers:t.val()}):e.setState({registers:{}})}))}},{key:"editId",value:function(e){this.setState({beingEdited:e}),console.log("SE EDITO "+this.state.beingEdited)}},{key:"logOut",value:function(){h.auth().signOut()}},{key:"onDelete",value:function(e){var t=this;window.confirm("Esta seguro que desea ELIMINAR este registro?")&&h.database().ref().child("registers/".concat(e)).remove((function(e){e?console.log(e):t.setState({beingEdited:""})}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"jumbotron jumbotron-fluid"},i.a.createElement("div",{className:"container"},i.a.createElement("h1",{className:"display-4"},"Registro"))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"card",style:{width:"100%",borderColor:"blue"}},i.a.createElement("div",{className:"card-header text-white bg-primary mb-2"},"Contact Form"),i.a.createElement(b,{operation:this.operation,registers:this.state.registers,beingEdited:this.state.beingEdited}))),i.a.createElement("div",{className:"col-md-8"},i.a.createElement("button",{className:"btn btn-secondary",onClick:this.logOut},"Sign Out"),i.a.createElement("table",{className:"table table-borderless table-stripped"},i.a.createElement("thead",{className:"thead-light"},i.a.createElement("tr",null,i.a.createElement("th",null,"No"),i.a.createElement("th",null,"First Name"),i.a.createElement("th",null,"Last Name"),i.a.createElement("th",null,"Email Address"),i.a.createElement("th",null,"Update"),i.a.createElement("th",null,"Delete"))),i.a.createElement("tbody",null,Object.keys(this.state.registers).map((function(t,a){return i.a.createElement("tr",{id:t,key:t},i.a.createElement("td",null,a+1),i.a.createElement("td",null,e.state.registers[t].fieldOne),i.a.createElement("td",null,e.state.registers[t].fieldTwo),i.a.createElement("a",{href:"mailto: ".concat(e.state.registers[t].fieldThree)},i.a.createElement("td",null,e.state.registers[t].fieldThree)),i.a.createElement("td",null,i.a.createElement("button",{type:"button",className:"btn btn-warning btn-block",onClick:function(){return e.editId(t)}},"Update")),i.a.createElement("td",null,i.a.createElement("button",{type:"button",className:"btn btn-danger btn-block",onClick:function(){return e.onDelete(t)}},"Delete")))})))))))}}]),a}(i.a.Component),g=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).submit=n.submit.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"submit",value:function(){var e=document.querySelector("#email").value,t=document.querySelector("#password").value;h.auth().signInWithEmailAndPassword(e,t).then((function(e){console.log("Successfully Signed Up")})).catch((function(e){console.log("Error: "+e.toString())}))}},{key:"submitSignUp",value:function(){h.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then((function(e){console.log("Successfully Signed Up")})).catch((function(e){console.log("Error: "+e.toString())}))}},{key:"render",value:function(){return i.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"#1c8ef9"}},i.a.createElement("div",{className:"col-md-8",style:{alignItems:"center",alignContent:"center",width:"100%"}},i.a.createElement("form",{style:{backgroundColor:"white",borderRadius:"10px",alignItems:"center",alignContent:"center",paddingLeft:"10%"}},i.a.createElement("h3",null,"Sign In"),i.a.createElement("div",{className:"form-group",style:{width:"80%",alignItems:"center",alignContent:"center",paddingLeft:"10%"}},i.a.createElement("label",null,"Email address"),i.a.createElement("input",{id:"email",type:"email",className:"form-control",name:"email",placeholder:"Enter email"})),i.a.createElement("div",{className:"form-group",style:{width:"80%",alignItems:"center",alignContent:"center",paddingLeft:"10%"}},i.a.createElement("label",null,"Password"),i.a.createElement("input",{id:"password",type:"password",className:"form-control",name:"password",placeholder:"Enter password"})),i.a.createElement("div",{className:"form-group",style:{width:"80%",alignItems:"center",alignContent:"center",paddingLeft:"10%"}},i.a.createElement("div",{className:"custom-control custom-checkbox"},i.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),i.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck1"},"Remember me"))),i.a.createElement("button",{type:"button",className:"btn btn-primary btn-block",style:{width:"80%",paddingLeft:"10%"},onClick:this.submit},"Sign In"),i.a.createElement("p",{className:"forgot-password text-right"},"Forgot ",i.a.createElement("a",{href:"#"},"password?")))))}}]),a}(i.a.Component),f=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={user:null},n.authListener=n.authListener.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;h.auth().onAuthStateChanged((function(t){t?e.setState({user:t}):e.setState({user:null})}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"col-12",style:{width:"100%",height:"100%",background:"white"}},this.state.user?i.a.createElement(p,null):i.a.createElement(g,null))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.b125febf.chunk.js.map